{
  "version": 3,
  "sources": ["../util.ts"],
  "sourcesContent": ["export function truncateText(text: string, max_len: number) {\r\n  if (text.length > max_len) {\r\n    return text.slice(0, max_len) + \"\u2026\";\r\n  } else {\r\n    return text;\r\n  }\r\n}\r\n\r\n/**\r\n * @returns Whether the `url` is an invite link (for contact or a group).\r\n * - https://github.com/deltachat/invite\r\n * - https://github.com/deltachat/interface/blob/main/uri-schemes.md#invite-links-httpsideltachat-\r\n */\r\nexport function isInviteLink(url: string) {\r\n  return url.startsWith(\"https://i.delta.chat/\") && url.includes(\"#\");\r\n}\r\n\r\nexport function throttle<R, A extends any[]>(\r\n  fn: (...args: A) => R,\r\n  wait: number,\r\n) {\r\n  let inThrottle: boolean,\r\n    timeout: ReturnType<typeof setTimeout>,\r\n    lastTime: number;\r\n  const ret = (...args: A) => {\r\n    if (!inThrottle) {\r\n      fn(...args);\r\n      lastTime = performance.now();\r\n      inThrottle = true;\r\n    } else {\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(\r\n        () => {\r\n          fn(...args);\r\n          lastTime = performance.now();\r\n        },\r\n        Math.max(wait - (performance.now() - lastTime), 0),\r\n      );\r\n    }\r\n  };\r\n  ret.cancel = () => {\r\n    clearTimeout(timeout);\r\n  };\r\n  return ret;\r\n}\r\n"],
  "mappings": ";AAAO,gBAAS,aAAa,MAAc,SAAiB;AAC1D,MAAI,KAAK,SAAS,SAAS;AACzB,WAAO,KAAK,MAAM,GAAG,OAAO,IAAI;AAAA,EAClC,OAAO;AACL,WAAO;AAAA,EACT;AACF;AAOO,gBAAS,aAAa,KAAa;AACxC,SAAO,IAAI,WAAW,uBAAuB,KAAK,IAAI,SAAS,GAAG;AACpE;AAEO,gBAAS,SACd,IACA,MACA;AACA,MAAI,YACF,SACA;AACF,QAAM,MAAM,IAAI,SAAY;AAC1B,QAAI,CAAC,YAAY;AACf,SAAG,GAAG,IAAI;AACV,iBAAW,YAAY,IAAI;AAC3B,mBAAa;AAAA,IACf,OAAO;AACL,mBAAa,OAAO;AACpB,gBAAU;AAAA,QACR,MAAM;AACJ,aAAG,GAAG,IAAI;AACV,qBAAW,YAAY,IAAI;AAAA,QAC7B;AAAA,QACA,KAAK,IAAI,QAAQ,YAAY,IAAI,IAAI,WAAW,CAAC;AAAA,MACnD;AAAA,IACF;AAAA,EACF;AACA,MAAI,SAAS,MAAM;AACjB,iBAAa,OAAO;AAAA,EACtB;AACA,SAAO;AACT;",
  "names": []
}
